(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ccb7b"],{"4eb6":function(e,t,s){"use strict";s.r(t);var d=function(){var e=this,t=e.$createElement,d=e._self._c||t;return d("section",{attrs:{id:"addresses"}},[0!==e.addresses.length||e.addNew?e.addNew?d("base-card",{scopedSlots:e._u([{key:"cardFooter",fn:function(){return[e.createMode?d("button",{staticClass:"btn btn-primary btn-md",on:{click:e.sendChanges}},[d("font-awesome-icon",{attrs:{icon:"check"}}),e._v(" Validate ")],1):d("button",{staticClass:"btn btn-primary btn-md",on:{click:e.updateAddress}},[d("font-awesome-icon",{attrs:{icon:"check"}}),e._v(" Update ")],1),d("button",{staticClass:"btn btn-outline-primary btn-md",on:{click:function(t){return e.$router.go(-1)}}},[d("font-awesome-icon",{attrs:{icon:"check"}}),e._v(" Cancel ")],1)]},proxy:!0}])},[d("div",{staticClass:"form-group"},[d("input",{directives:[{name:"model",rawName:"v-model",value:e.newAddress["street_address"],expression:"newAddress['street_address']"}],staticClass:"form-control",attrs:{type:"text",id:"street-address",placeholder:"1 rue de Rivoli",autocomplete:"address-line1"},domProps:{value:e.newAddress["street_address"]},on:{input:function(t){t.target.composing||e.$set(e.newAddress,"street_address",t.target.value)}}})]),d("div",{staticClass:"form-group mt-2"},[d("input",{directives:[{name:"model",rawName:"v-model",value:e.newAddress["city"],expression:"newAddress['city']"}],staticClass:"form-control",attrs:{type:"text",id:"address2",placeholder:"City",autocomplete:"address-level2"},domProps:{value:e.newAddress["city"]},on:{input:function(t){t.target.composing||e.$set(e.newAddress,"city",t.target.value)}}})]),d("div",{staticClass:"form-group mt-2"},[d("input",{directives:[{name:"model",rawName:"v-model",value:e.newAddress["zip_code"],expression:"newAddress['zip_code']"}],staticClass:"form-control",attrs:{type:"text",id:"postal-code",placeholder:"75001",autocomplete:"postal-code"},domProps:{value:e.newAddress["zip_code"]},on:{input:function(t){t.target.composing||e.$set(e.newAddress,"zip_code",t.target.value)}}})]),d("div",{staticClass:"form-group mt-2"},[d("input",{directives:[{name:"model",rawName:"v-model",value:e.newAddress["country"],expression:"newAddress['country']"}],staticClass:"form-control",attrs:{type:"text",id:"country",placeholder:"France",autocomplete:"country-name"},domProps:{value:e.newAddress["country"]},on:{input:function(t){t.target.composing||e.$set(e.newAddress,"country",t.target.value)}}})])]):d("div",{staticClass:"row"},[d("div",{staticClass:"col-12"},[e._l(e.addresses,(function(t,s){return d("base-card",{key:t.id,class:{"mt-2":s>=1},scopedSlots:e._u([{key:"cardFooter",fn:function(){return[d("footer",{staticClass:"card-footer"},[d("button",{staticClass:"card-footer-item",on:{click:function(s){return e.deleteAddress(t.id)}}},[d("font-awesome-icon",{attrs:{icon:"trash"}})],1),d("button",{staticClass:"card-footer-item",on:{click:function(s){return e.retriveAddressToUpdate(t.id)}}},[d("font-awesome-icon",{attrs:{icon:"pen"}})],1)])]},proxy:!0}],null,!0)},[d("b-card-body",[e._v(" "+e._s(t.street_address)+", "+e._s(t.zip_code)+" "),d("b-checkbox",{attrs:{id:"address_"+t.id,checked:t.is_main},on:{change:function(s){return e.mainAddress(t.id)}}},[d("span",{staticClass:"ml-2"},[e._v("Use as main address")])])],1)],1)})),d("base-card",{staticClass:"text-center mt-2"},[d("button",{staticClass:"btn btn-lg btn-primary",on:{click:function(t){e.addNew=!0}}},[e._v(" Create new ")])])],2)]):d("base-card",[d("b-card-body",{staticClass:"text-center"},[d("h2",{staticClass:"mb-4"},[e._v("You have no addresses")]),d("img",{staticClass:"img-fluid",attrs:{src:s("9100"),alt:"addresses"}}),d("button",{staticClass:"btn btn-primary btn-lg m-0 mt-4",on:{click:function(t){e.addNew=!0}}},[e._v("Add new")])])],1)],1)},r=[],o=s("5530"),n=(s("159b"),s("b64b"),s("2f62")),a=s("2ef0"),i={name:"Addresses",title:function(){return"Addresses"},data:function(){return{addNew:!1,newAddress:{is_main:!1},createMode:!0}},computed:Object(o["a"])({},Object(n["e"])("profileModule",{addresses:function(e){return e.userDetails.addresses}})),methods:{sendChanges:function(){var e=this;this.addNew=!1,this.$api.profile.createAddress(this.newAddress).then((function(t){e.$store.dispatch("profileModule/newAddress",t)})).catch((function(e){console.log(e)})),this.newAddress={}},deleteAddress:function(e){var t=this;this.$api.profile.removeAddress({id:e}).then((function(s){t.$store.dispatch("profileModule/deleteAddress",e)})).catch((function(e){console.error(e)}))},retriveAddressToUpdate:function(e){var t=this,s=this.$store.getters["profileModule/getAddress"](e);a.forEach(Object.keys(s),(function(e){t.newAddress[e]=s[e]})),this.createMode=!1,this.addNew=!0},updateAddress:function(){var e=this;this.$api.profile.modifyAddress(this.newAddress).then((function(t){e.$store.dispatch("profileModule/updateAddress",t),e.createMode=!0,e.addNew=!1})).catch((function(e){console.log(e)}))}}},c=i,l=s("2877"),u=Object(l["a"])(c,d,r,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0ccb7b.91a978cc.js.map