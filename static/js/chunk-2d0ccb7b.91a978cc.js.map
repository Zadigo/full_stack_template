{"version":3,"sources":["webpack:///./src/components/auth/profile/Address.vue?cd4c","webpack:///src/components/auth/profile/Address.vue","webpack:///./src/components/auth/profile/Address.vue?2c1a","webpack:///./src/components/auth/profile/Address.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","addresses","length","addNew","scopedSlots","_u","key","fn","staticClass","on","sendChanges","_v","updateAddress","$event","$router","go","proxy","directives","name","rawName","value","newAddress","expression","domProps","target","composing","$set","_l","address","index","id","class","deleteAddress","retriveAddressToUpdate","_s","street_address","zip_code","is_main","mainAddress","staticRenderFns","_","title","data","createMode","computed","methods","$api","profile","createAddress","console","log","error","removeAddress","$store","getters","forEach","Object","keys","modifyAddress","component"],"mappings":"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","file":"static/js/chunk-2d0ccb7b.91a978cc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"addresses\"}},[(_vm.addresses.length===0 && !_vm.addNew)?_c('base-card',[_c('b-card-body',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"mb-4\"},[_vm._v(\"You have no addresses\")]),_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":require(\"../../../assets/hello.svg\"),\"alt\":\"addresses\"}}),_c('button',{staticClass:\"btn btn-primary btn-lg m-0 mt-4\",on:{\"click\":function($event){_vm.addNew=true}}},[_vm._v(\"Add new\")])])],1):(_vm.addNew)?_c('base-card',{scopedSlots:_vm._u([{key:\"cardFooter\",fn:function(){return [(_vm.createMode)?_c('button',{staticClass:\"btn btn-primary btn-md\",on:{\"click\":_vm.sendChanges}},[_c('font-awesome-icon',{attrs:{\"icon\":\"check\"}}),_vm._v(\" Validate \")],1):_c('button',{staticClass:\"btn btn-primary btn-md\",on:{\"click\":_vm.updateAddress}},[_c('font-awesome-icon',{attrs:{\"icon\":\"check\"}}),_vm._v(\" Update \")],1),_c('button',{staticClass:\"btn btn-outline-primary btn-md\",on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"check\"}}),_vm._v(\" Cancel \")],1)]},proxy:true}])},[_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newAddress['street_address']),expression:\"newAddress['street_address']\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"street-address\",\"placeholder\":\"1 rue de Rivoli\",\"autocomplete\":\"address-line1\"},domProps:{\"value\":(_vm.newAddress['street_address'])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newAddress, 'street_address', $event.target.value)}}})]),_c('div',{staticClass:\"form-group mt-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newAddress['city']),expression:\"newAddress['city']\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"address2\",\"placeholder\":\"City\",\"autocomplete\":\"address-level2\"},domProps:{\"value\":(_vm.newAddress['city'])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newAddress, 'city', $event.target.value)}}})]),_c('div',{staticClass:\"form-group mt-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newAddress['zip_code']),expression:\"newAddress['zip_code']\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"postal-code\",\"placeholder\":\"75001\",\"autocomplete\":\"postal-code\"},domProps:{\"value\":(_vm.newAddress['zip_code'])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newAddress, 'zip_code', $event.target.value)}}})]),_c('div',{staticClass:\"form-group mt-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newAddress['country']),expression:\"newAddress['country']\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"country\",\"placeholder\":\"France\",\"autocomplete\":\"country-name\"},domProps:{\"value\":(_vm.newAddress['country'])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newAddress, 'country', $event.target.value)}}})])]):_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_vm._l((_vm.addresses),function(address,index){return _c('base-card',{key:address.id,class:{ 'mt-2': index >= 1 },scopedSlots:_vm._u([{key:\"cardFooter\",fn:function(){return [_c('footer',{staticClass:\"card-footer\"},[_c('button',{staticClass:\"card-footer-item\",on:{\"click\":function($event){return _vm.deleteAddress(address.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"trash\"}})],1),_c('button',{staticClass:\"card-footer-item\",on:{\"click\":function($event){return _vm.retriveAddressToUpdate(address.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"pen\"}})],1)])]},proxy:true}],null,true)},[_c('b-card-body',[_vm._v(\" \"+_vm._s(address.street_address)+\", \"+_vm._s(address.zip_code)+\" \"),_c('b-checkbox',{attrs:{\"id\":(\"address_\" + (address.id)),\"checked\":address.is_main},on:{\"change\":function($event){return _vm.mainAddress(address.id)}}},[_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Use as main address\")])])],1)],1)}),_c('base-card',{staticClass:\"text-center mt-2\"},[_c('button',{staticClass:\"btn btn-lg btn-primary\",on:{\"click\":function($event){_vm.addNew=true}}},[_vm._v(\" Create new \")])])],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section id=\"addresses\">\r\n    <!-- Add new -->\r\n    <base-card v-if=\"addresses.length===0 && !addNew\">\r\n      <b-card-body class=\"text-center\">\r\n        <h2 class=\"mb-4\">You have no addresses</h2>\r\n        <img src=\"../../../assets/hello.svg\" alt=\"addresses\" class=\"img-fluid\">\r\n        <button @click=\"addNew=true\" class=\"btn btn-primary btn-lg m-0 mt-4\">Add new</button>\r\n      </b-card-body>\r\n    </base-card>\r\n\r\n    <!-- Update/Creation form -->\r\n    <base-card v-else-if=\"addNew\">\r\n      <div class=\"form-group\">\r\n        <input v-model=\"newAddress['street_address']\" type=\"text\" class=\"form-control\" id=\"street-address\" placeholder=\"1 rue de Rivoli\" autocomplete=\"address-line1\">\r\n      </div>\r\n\r\n      <div class=\"form-group mt-2\">\r\n        <input v-model=\"newAddress['city']\" type=\"text\" class=\"form-control\" id=\"address2\" placeholder=\"City\" autocomplete=\"address-level2\">\r\n      </div>\r\n\r\n      <div class=\"form-group mt-2\">\r\n        <input v-model=\"newAddress['zip_code']\" type=\"text\" class=\"form-control\" id=\"postal-code\" placeholder=\"75001\" autocomplete=\"postal-code\">\r\n      </div>\r\n\r\n      <div class=\"form-group mt-2\">\r\n        <input v-model=\"newAddress['country']\" type=\"text\" class=\"form-control\" id=\"country\" placeholder=\"France\" autocomplete=\"country-name\">\r\n      </div>\r\n\r\n      <template v-slot:cardFooter>\r\n        <button @click=\"sendChanges\" v-if=\"createMode\" class=\"btn btn-primary btn-md\">\r\n          <font-awesome-icon icon=\"check\"></font-awesome-icon>\r\n          Validate\r\n        </button>\r\n\r\n        <button @click=\"updateAddress\" v-else class=\"btn btn-primary btn-md\">\r\n          <font-awesome-icon icon=\"check\"></font-awesome-icon>\r\n          Update\r\n        </button>\r\n\r\n        <button @click=\"$router.go(-1)\" class=\"btn btn-outline-primary btn-md\">\r\n          <font-awesome-icon icon=\"check\"></font-awesome-icon>\r\n          Cancel\r\n        </button>\r\n      </template>\r\n    </base-card>\r\n    \r\n    <!-- Cards -->\r\n    <div v-else class=\"row\">\r\n      <div class=\"col-12\">\r\n        <base-card v-for=\"(address, index) in addresses\" :key=\"address.id\" :class=\"{ 'mt-2': index >= 1 }\">\r\n          <b-card-body>\r\n            {{ address.street_address }}, {{ address.zip_code }}\r\n\r\n            <b-checkbox @change=\"mainAddress(address.id)\" :id=\"`address_${address.id}`\" :checked=\"address.is_main\">\r\n              <span class=\"ml-2\">Use as main address</span>\r\n            </b-checkbox>\r\n          </b-card-body>\r\n\r\n          <template v-slot:cardFooter>\r\n            <footer class=\"card-footer\">\r\n              <button @click=\"deleteAddress(address.id)\" class=\"card-footer-item\">\r\n                <font-awesome-icon icon=\"trash\"></font-awesome-icon>\r\n              </button>\r\n\r\n              <button @click=\"retriveAddressToUpdate(address.id)\" class=\"card-footer-item\">\r\n                <font-awesome-icon icon=\"pen\"></font-awesome-icon>\r\n              </button>\r\n            </footer>\r\n          </template>\r\n        </base-card>\r\n\r\n        <!-- Creation -->\r\n        <base-card class=\"text-center mt-2\">\r\n          <button @click=\"addNew=true\" class=\"btn btn-lg btn-primary\">\r\n            Create new\r\n          </button>\r\n        </base-card>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\n\r\nvar _ = require('lodash')\r\n\r\nexport default {\r\n  name: 'Addresses',\r\n  title () {\r\n    return 'Addresses'\r\n  },\r\n  data () {\r\n    return {\r\n      addNew: false,\r\n      newAddress: { is_main: false },\r\n      createMode: true\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    ...mapState('profileModule', {\r\n      addresses: (state) => { return state.userDetails.addresses }\r\n    })\r\n  },\r\n  \r\n  methods: {\r\n    sendChanges () {\r\n      this.addNew = false\r\n      this.$api.profile.createAddress(this.newAddress)\r\n      .then((response) => {\r\n        this.$store.dispatch('profileModule/newAddress', response)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n      // this.$store.dispatch('profileModule/newAddress', this.newAddress)\r\n      this.newAddress = {}\r\n    },\r\n\r\n    deleteAddress (id) {\r\n      // this.$store.commit('profileModule/deleteAddress', id)\r\n      this.$api.profile.removeAddress({ id: id })\r\n      .then((response) => {\r\n        response\r\n        this.$store.dispatch('profileModule/deleteAddress', id)\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      })\r\n    },\r\n\r\n    retriveAddressToUpdate(id) {\r\n      // Initiates the updating of the address by\r\n      // prefilling the update fields with the the\r\n      // address details\r\n      var address = this.$store.getters['profileModule/getAddress'](id)\r\n      _.forEach(Object.keys(address), (key) => {\r\n        this.newAddress[key] = address[key]\r\n      })\r\n      this.createMode = false\r\n      this.addNew = true\r\n    },\r\n\r\n    updateAddress() {\r\n      // Finalizes the updating of the address\r\n      // by sending the request to the server\r\n      // this.$store.dispatch('profileModule/updateAddress', this.newAddress)\r\n      this.$api.profile.modifyAddress(this.newAddress)\r\n      .then((response) => {\r\n        this.$store.dispatch('profileModule/updateAddress', response)\r\n        this.createMode = true\r\n        this.addNew = false\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Address.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Address.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Address.vue?vue&type=template&id=2973f5de&\"\nimport script from \"./Address.vue?vue&type=script&lang=js&\"\nexport * from \"./Address.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}