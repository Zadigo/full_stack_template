{"version":3,"file":"static/js/7875.522448d0.js","mappings":"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","sources":["webpack://vue_templates/./src/composables/profile.js","webpack://vue_templates/./src/components/FieldsIterator.vue","webpack://vue_templates/./src/components/FieldsIterator.vue?12a1","webpack://vue_templates/./src/layouts/BaseValidationCard.vue","webpack://vue_templates/./src/layouts/BaseValidationCard.vue?4060","webpack://vue_templates/./src/views/site/profile/DetailsView.vue","webpack://vue_templates/./src/views/site/profile/DetailsView.vue?22ff"],"sourcesContent":["import { ref } from 'vue'\r\nimport profileFields from '@/data/profile.json'\r\n\r\n/** Simplifies the usage of fields in user pofile */\r\nexport default function useProfileComposable () {\r\n  const fields = ref(profileFields)\r\n\r\n  /** \r\n   * Gets a set of fields for a\r\n   * a given view\r\n   */\r\n  function getFields (name) {\r\n    const data = fields.value[name]\r\n    return data\r\n  }\r\n\r\n  /** Get initial values for a profile form */\r\n  function getInitialValues (name, target) {\r\n    const values = {}\r\n    const fields = getFields(name)\r\n    fields.forEach((field) => {\r\n      values[field.name] = target[field.name]\r\n    })\r\n    return values\r\n  }\r\n\r\n  return {\r\n    getFields,\r\n    getInitialValues\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div v-for=\"field in formFields\" :key=\"field.id\" class=\"form-group mt-2\">\r\n        <label v-if=\"field.label !== null\" :for=\"field.name\" class=\"mt-3 mb-2 fw-bold\">\r\n          {{ field.label }}\r\n        </label>\r\n        <!-- @keyup=\"$emit('start-action', [field.name, $event.target.value])\" -->\r\n        <input v-model=\"fieldUpdates[field.name]\" :type=\"field.type\" :autocomplete=\"field.autocomplete\" :aria-label=\"field.aria\" class=\"form-control p-3\" @keyup=\"$emit('start-action', fieldUpdates)\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'FieldsIterator',\r\n  props: {\r\n    formFields: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    initialValues: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  emits: {\r\n    'start-action': () => true\r\n  },\r\n  data () {\r\n    return {\r\n      fieldUpdates: {}\r\n    }\r\n  },\r\n  created () {\r\n    this.fieldUpdates = Object.assign(this.initialValues, this.fieldUpdates)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./FieldsIterator.vue?vue&type=template&id=3a9368df\"\nimport script from \"./FieldsIterator.vue?vue&type=script&lang=js\"\nexport * from \"./FieldsIterator.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\full_stack_template\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"card\">\r\n    <slot name=\"cardHeader\"></slot>\r\n\r\n    <div class=\"card-body\">\r\n      <slot></slot>\r\n    </div>\r\n\r\n    <slot name=\"cardFooter\">\r\n      <footer class=\"card-footer bg-white text-right\">\r\n        <button type=\"button\" class=\"btn btn-primary mr-2\" aria-label=\"Validate\" @click=\"$emit('validate-action', position)\">\r\n          <font-awesome-icon icon=\"fa-solid fa-check\" />\r\n          {{ buttonName }}\r\n        </button>\r\n      </footer>\r\n    </slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BaseValidationCard',\r\n  props: {\r\n    position: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    buttonName: {\r\n      type: String,\r\n      default: 'Validate'\r\n    }\r\n  },\r\n  emits: {\r\n    'validate-action': () => true\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./BaseValidationCard.vue?vue&type=template&id=279e31ce\"\nimport script from \"./BaseValidationCard.vue?vue&type=script&lang=js\"\nexport * from \"./BaseValidationCard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\full_stack_template\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<doc>\r\n  Allows the user to change certain details on their profile\r\n</doc>\r\n\r\n<template>\r\n  <section>\r\n    <base-validation-card :position=\"0\" @validateAction=\"update\">\r\n      <template #cardHeader>\r\n        <header class=\"card-header\">\r\n          <img :src=\"'https://images.pexels.com/photos/1447885/pexels-photo-1447885.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=100&w=100'\" alt=\"avatar\">\r\n        </header>\r\n      </template>\r\n\r\n      <fields-iterator :form-fields=\"fields\" :initial-values=\"initialValues\" @start-action=\"changeItems\" />\r\n    </base-validation-card>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport BaseValidationCard from '@/layouts/BaseValidationCard.vue'\r\nimport FieldsIterator from '@/components/FieldsIterator.vue'\r\nimport useProfileComposable from '@/composables/profile'\r\nimport { useAuthentication } from '@/store/authentication'\r\nimport { storeToRefs } from 'pinia'\r\n\r\nexport default {\r\n  name: 'DetailsView',\r\n  components: {\r\n    FieldsIterator,\r\n    BaseValidationCard\r\n  },\r\n  setup () {\r\n    const store = useAuthentication()\r\n    const { user } = storeToRefs(store)\r\n    const { getFields, getInitialValues } = useProfileComposable()\r\n    const fields = getFields('details')\r\n    const initialValues = getInitialValues('details', store.user.myuser)\r\n    return {\r\n      initialValues,\r\n      fields,\r\n      user,\r\n      getInitialValues,\r\n      getFields\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      updatedFields: {}\r\n    }\r\n  },\r\n  methods: {\r\n    async update () {\r\n      try {\r\n        await this.$http.post('accounts/profile/update', { method: 'details', myuser: this.updatedFields })\r\n      } catch(error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    changeItems (data) {\r\n      this.updatedFields = data\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./DetailsView.vue?vue&type=template&id=39498c5e\"\nimport script from \"./DetailsView.vue?vue&type=script&lang=js\"\nexport * from \"./DetailsView.vue?vue&type=script&lang=js\"\n/* custom blocks */\nimport block0 from \"./DetailsView.vue?vue&type=custom&index=0&blockType=doc\"\nif (typeof block0 === 'function') block0(script)\n\n\nimport exportComponent from \"D:\\\\mywebsites\\\\full_stack_template\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["useProfileComposable","fields","ref","profileFields","getFields","name","data","value","getInitialValues","target","values","forEach","field","class","_createElementBlock","_createElementVNode","_Fragment","_renderList","$props","key","id","label","for","_hoisted_3","$data","$event","type","autocomplete","aria","onKeyup","_ctx","props","formFields","Array","required","initialValues","Object","default","emits","fieldUpdates","created","this","assign","__exports__","render","_renderSlot","onClick","_createVNode","_component_font_awesome_icon","icon","_toDisplayString","position","Number","buttonName","String","_component_base_validation_card","onValidateAction","$options","cardHeader","src","alt","_component_fields_iterator","$setup","onStartAction","components","FieldsIterator","BaseValidationCard","setup","store","useAuthentication","user","storeToRefs","myuser","updatedFields","methods","async","$http","post","method","error","console","changeItems"],"sourceRoot":""}