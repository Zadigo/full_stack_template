"use strict";(self["webpackChunkvue_templates"]=self["webpackChunkvue_templates"]||[]).push([[5702,6868],{6868:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var d=s(3396),a=s(7139);const o={class:"card"},n={class:"card-body"},r={class:"card-footer bg-white text-right"};function c(e,t,s,c,l,i){const u=(0,d.up)("font-awesome-icon");return(0,d.wg)(),(0,d.iD)("div",o,[(0,d.WI)(e.$slots,"cardHeader"),(0,d._)("div",n,[(0,d.WI)(e.$slots,"default")]),(0,d.WI)(e.$slots,"cardFooter",{},(()=>[(0,d._)("footer",r,[(0,d._)("button",{type:"button",class:"btn btn-primary mr-2","aria-label":"Validate",onClick:t[0]||(t[0]=t=>e.$emit("validate-action",s.position))},[(0,d.Wm)(u,{icon:"fa-solid fa-check"}),(0,d.Uk)(" "+(0,a.zw)(s.buttonName),1)])])]))])}var l={name:"BaseValidationCard",props:{position:{type:Number,default:0},buttonName:{type:String,default:"Validate"}},emits:{"validate-action":()=>!0}},i=s(89);const u=(0,i.Z)(l,[["render",c]]);var p=u},5702:function(e,t,s){s.r(t),s.d(t,{default:function(){return $}});var d=s(3396),a=s(9242),o=s(7139);const n={id:"addresses"},r={key:0,class:"card"},c={class:"card-body text-center"},l=(0,d._)("h2",{class:"mb-4"},"You have no addresses",-1),i=["src"],u={class:"d-flex justify-content-between my-2"},p={class:"card-footer"},m=(0,d.Uk)(" Validate "),w=(0,d.Uk)(" Update "),b={key:2,class:"row"},f={class:"col-12"},h=(0,d._)("span",{class:"ml-2"},"Use as main address",-1),y={class:"card-footer"},_=["onClick"],k=["onClick"];function A(e,t,A,v,g,C){const U=(0,d.up)("font-awesome-icon"),x=(0,d.up)("base-validation-card-vue"),N=(0,d.up)("b-checkbox"),W=(0,d.up)("b-card-body"),$=(0,d.up)("base-card");return(0,d.wg)(),(0,d.iD)("section",n,[0!==v.addresses.length||g.addNew?g.addNew?((0,d.wg)(),(0,d.j4)(x,{key:1},{cardFooter:(0,d.w5)((()=>[(0,d._)("div",p,[g.createMode?((0,d.wg)(),(0,d.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-md",onClick:t[5]||(t[5]=(...e)=>C.sendChanges&&C.sendChanges(...e))},[(0,d.Wm)(U,{icon:"fa-solid fa-check",class:"me-2"}),m])):((0,d.wg)(),(0,d.iD)("button",{key:1,type:"button",class:"btn btn-primary btn-md",onClick:t[6]||(t[6]=(...e)=>C.updateAddress&&C.updateAddress(...e))},[(0,d.Wm)(U,{icon:"fa-solid fa-check",class:"me-2"}),w])),(0,d._)("button",{type:"button",class:"btn btn-outline-primary btn-md mx-2",onClick:t[7]||(t[7]=e=>g.addNew=!1)}," Cancel ")])])),default:(0,d.w5)((()=>[(0,d.wy)((0,d._)("input",{id:"street-address","onUpdate:modelValue":t[1]||(t[1]=e=>g.newAddress.street_address=e),type:"text",class:"form-control p-3",placeholder:"1 rue de Rivoli",autocomplete:"address-line1"},null,512),[[a.nr,g.newAddress.street_address]]),(0,d._)("div",u,[(0,d.wy)((0,d._)("input",{id:"address2","onUpdate:modelValue":t[2]||(t[2]=e=>g.newAddress.city=e),type:"text",class:"form-control p-3 me-2",placeholder:"City",autocomplete:"address-level2"},null,512),[[a.nr,g.newAddress.city]]),(0,d.wy)((0,d._)("input",{id:"postal-code","onUpdate:modelValue":t[3]||(t[3]=e=>g.newAddress.zip_code=e),type:"text",class:"form-control p-3",placeholder:"75001",autocomplete:"postal-code"},null,512),[[a.nr,g.newAddress.zip_code]])]),(0,d.wy)((0,d._)("input",{id:"country","onUpdate:modelValue":t[4]||(t[4]=e=>g.newAddress.country=e),type:"text",class:"form-control w-50 p-3",placeholder:"France",autocomplete:"country-name"},null,512),[[a.nr,g.newAddress.country]])])),_:1})):((0,d.wg)(),(0,d.iD)("div",b,[(0,d._)("div",f,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(v.addresses,((e,t)=>((0,d.wg)(),(0,d.j4)($,{key:e.id,class:(0,o.C_)({"mt-2":t>=1})},{cardFooter:(0,d.w5)((()=>[(0,d._)("footer",y,[(0,d._)("button",{type:"button",class:"card-footer-item",onClick:t=>C.deleteAddress(e.id)},[(0,d.Wm)(U,{icon:"trash"})],8,_),(0,d._)("button",{type:"button",class:"card-footer-item",onClick:t=>C.retrieveAddressToUpdate(e.id)},[(0,d.Wm)(U,{icon:"pen"})],8,k)])])),default:(0,d.w5)((()=>[(0,d.Wm)(W,null,{default:(0,d.w5)((()=>[(0,d.Uk)((0,o.zw)(e.street_address)+", "+(0,o.zw)(e.zip_code)+" ",1),(0,d.Wm)(N,{id:`address_${e.id}`,checked:e.is_main,onChange:t=>C.mainAddress(e.id)},{default:(0,d.w5)((()=>[h])),_:2},1032,["id","checked","onChange"])])),_:2},1024)])),_:2},1032,["class"])))),128)),(0,d.Wm)($,{class:"text-center mt-2"},{default:(0,d.w5)((()=>[(0,d._)("button",{type:"button",class:"btn btn-lg btn-primary",onClick:t[8]||(t[8]=e=>g.addNew=!0)}," Create new ")])),_:1})])])):((0,d.wg)(),(0,d.iD)("div",r,[(0,d._)("div",c,[l,(0,d._)("img",{src:s(5193),alt:"addresses",class:"img-fluid"},null,8,i),(0,d._)("button",{type:"button",class:"btn btn-primary btn-lg m-0 mt-4",onClick:t[0]||(t[0]=e=>g.addNew=!0)}," Add new ")])]))])}var v=s(4806),g=s.n(v),C=s(6868),U=s(2097),x={name:"AddressesSection",components:{BaseValidationCardVue:C["default"]},setup(){const e=(0,U.J)(),t=e.user.addresses||[];return{addresses:t}},title(){return"Addresses"},data(){return{addNew:!1,newAddress:{is_main:!1},createMode:!0}},methods:{async sendChanges(){this.addNew=!1,this.$api.profile.createAddress(this.newAddress).then((e=>{this.$store.dispatch("profileModule/newAddress",e)})).catch((e=>{console.log(e)})),this.newAddress={}},async deleteAddress(e){this.$api.profile.removeAddress({id:e}).then((()=>{this.$store.dispatch("profileModule/deleteAddress",e)})).catch((e=>{console.error(e)}))},async updateAddress(){},retrieveAddressToUpdate(e){var t=this.$store.getters["profileModule/getAddress"](e);g().forEach(Object.keys(t),(e=>{this.newAddress[e]=t[e]})),this.createMode=!1,this.addNew=!0},mainAddress(e){this.$store.commit("profileModule/chooseMainAddress",e)}}},N=s(89);const W=(0,N.Z)(x,[["render",A]]);var $=W},5193:function(e,t,s){e.exports=s.p+"static/img/hello.debe1173.svg"}}]);
//# sourceMappingURL=5702.c3d118ef.js.map