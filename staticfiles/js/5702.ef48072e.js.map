{"version":3,"file":"js/5702.ef48072e.js","mappings":"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","sources":["webpack://vue_templates/./src/layouts/BaseValidationCard.vue","webpack://vue_templates/./src/layouts/BaseValidationCard.vue?4060","webpack://vue_templates/./src/views/site/profile/AddressView.vue","webpack://vue_templates/./src/views/site/profile/AddressView.vue?e450"],"sourcesContent":["<template>\r\n  <div class=\"card\">\r\n    <slot name=\"cardHeader\"></slot>\r\n\r\n    <div class=\"card-body\">\r\n      <slot></slot>\r\n    </div>\r\n\r\n    <slot name=\"cardFooter\">\r\n      <footer class=\"card-footer bg-white text-right\">\r\n        <button type=\"button\" class=\"btn btn-primary mr-2\" aria-label=\"Validate\" @click=\"$emit('validate-action', position)\">\r\n          <font-awesome-icon icon=\"fa-solid fa-check\" />\r\n          {{ buttonName }}\r\n        </button>\r\n      </footer>\r\n    </slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BaseValidationCard',\r\n  props: {\r\n    position: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    buttonName: {\r\n      type: String,\r\n      default: 'Validate'\r\n    }\r\n  },\r\n  emits: {\r\n    'validate-action': () => true\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./BaseValidationCard.vue?vue&type=template&id=279e31ce\"\nimport script from \"./BaseValidationCard.vue?vue&type=script&lang=js\"\nexport * from \"./BaseValidationCard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\full_stack_template\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <section id=\"addresses\">\r\n    <!-- Update/Creation form -->\r\n    <div v-if=\"addresses.length===0 && !addNew\" class=\"card\">\r\n      <div class=\"card-body text-center\">\r\n        <h2 class=\"mb-4\">You have no addresses</h2>\r\n        <img :src=\"require('@/assets/hello.svg')\" alt=\"addresses\" class=\"img-fluid\">\r\n        <button type=\"button\" class=\"btn btn-primary btn-lg m-0 mt-4\" @click=\"addNew=true\">\r\n          Add new\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <base-validation-card-vue v-else-if=\"addNew\">\r\n      <input id=\"street-address\" v-model=\"newAddress.street_address\" type=\"text\" class=\"form-control p-3\" placeholder=\"1 rue de Rivoli\" autocomplete=\"address-line1\">\r\n      \r\n      <div class=\"d-flex justify-content-between my-2\">\r\n        <input id=\"address2\" v-model=\"newAddress.city\" type=\"text\" class=\"form-control p-3 me-2\" placeholder=\"City\" autocomplete=\"address-level2\">\r\n        <input id=\"postal-code\" v-model=\"newAddress.zip_code\" type=\"text\" class=\"form-control p-3\" placeholder=\"75001\" autocomplete=\"postal-code\">\r\n      </div>\r\n      \r\n      <input id=\"country\" v-model=\"newAddress.country\" type=\"text\" class=\"form-control w-50 p-3\" placeholder=\"France\" autocomplete=\"country-name\">\r\n\r\n      <template #cardFooter>\r\n        <div class=\"card-footer\">\r\n          <button v-if=\"createMode\" type=\"button\" class=\"btn btn-primary btn-md\" @click=\"sendChanges\">\r\n            <font-awesome-icon icon=\"fa-solid fa-check\" class=\"me-2\" />\r\n            Validate\r\n          </button>\r\n\r\n          <button v-else type=\"button\" class=\"btn btn-primary btn-md\" @click=\"updateAddress\">\r\n            <font-awesome-icon icon=\"fa-solid fa-check\" class=\"me-2\" />\r\n            Update\r\n          </button>\r\n\r\n          <button type=\"button\" class=\"btn btn-outline-primary btn-md mx-2\" @click=\"addNew=false\">\r\n            <!-- <font-awesome-icon icon=\"fa-solid fa-check\" class=\"me-2\" /> -->\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </template>\r\n    </base-validation-card-vue>\r\n\r\n    <!-- Cards -->\r\n    <div v-else class=\"row\">\r\n      <div class=\"col-12\">\r\n        <base-card v-for=\"(address, index) in addresses\" :key=\"address.id\" :class=\"{ 'mt-2': index >= 1 }\">\r\n          <b-card-body>\r\n            {{ address.street_address }}, {{ address.zip_code }}\r\n\r\n            <b-checkbox :id=\"`address_${address.id}`\" :checked=\"address.is_main\" @change=\"mainAddress(address.id)\">\r\n              <span class=\"ml-2\">Use as main address</span>\r\n            </b-checkbox>\r\n          </b-card-body>\r\n\r\n          <template v-slot:cardFooter>\r\n            <footer class=\"card-footer\">\r\n              <button type=\"button\" class=\"card-footer-item\" @click=\"deleteAddress(address.id)\">\r\n                <font-awesome-icon icon=\"trash\"></font-awesome-icon>\r\n              </button>\r\n\r\n              <button type=\"button\" class=\"card-footer-item\" @click=\"retrieveAddressToUpdate(address.id)\">\r\n                <font-awesome-icon icon=\"pen\"></font-awesome-icon>\r\n              </button>\r\n            </footer>\r\n          </template>\r\n        </base-card>\r\n\r\n        <!-- Creation -->\r\n        <base-card class=\"text-center mt-2\">\r\n          <button type=\"button\" class=\"btn btn-lg btn-primary\" @click=\"addNew=true\">\r\n            Create new\r\n          </button>\r\n        </base-card>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\n\r\nimport BaseValidationCardVue from '@/layouts/BaseValidationCard.vue'\r\n\r\nimport { useAuthentication } from '@/store/authentication'\r\n\r\nexport default {\r\n  name: 'AddressesSection',\r\n  components: {\r\n    BaseValidationCardVue\r\n  },\r\n  setup () {\r\n    const store = useAuthentication()\r\n    const addresses = store.user.addresses || []\r\n    return {\r\n      addresses\r\n    }\r\n  },\r\n  title () {\r\n    return 'Addresses'\r\n  },\r\n  data () {\r\n    return {\r\n      addNew: false,\r\n      newAddress: { is_main: false },\r\n      createMode: true\r\n    }\r\n  },\r\n  methods: {\r\n    async sendChanges () {\r\n      this.addNew = false\r\n      this.$api.profile.createAddress(this.newAddress)\r\n      .then((response) => {\r\n        this.$store.dispatch('profileModule/newAddress', response)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n      this.newAddress = {}\r\n    },\r\n    async deleteAddress (id) {\r\n      // Allows the user to delete an address\r\n      // from the backend\r\n      this.$api.profile.removeAddress({ id: id })\r\n      .then(() => {\r\n        this.$store.dispatch('profileModule/deleteAddress', id)\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      })\r\n    },\r\n    async updateAddress() {\r\n      // Finalizes the updating of the address\r\n      // by sending the request to the server\r\n      // this.$store.dispatch('profileModule/updateAddress', this.newAddress)\r\n      // this.$api.profile.modifyAddress(this.newAddress)\r\n      // .then((response) => {\r\n      //   this.$store.dispatch('profileModule/updateAddress', response)\r\n      //   this.createMode = true\r\n      //   this.addNew = false\r\n      // })\r\n      // .catch((error) => {\r\n      //   console.log(error)\r\n      // })\r\n    },\r\n    retrieveAddressToUpdate(id) {\r\n      // Initiates the updating of the address by\r\n      // prefilling the update fields with the the\r\n      // address details\r\n      var address = this.$store.getters['profileModule/getAddress'](id)\r\n      _.forEach(Object.keys(address), (key) => {\r\n        this.newAddress[key] = address[key]\r\n      })\r\n      this.createMode = false\r\n      this.addNew = true\r\n    },\r\n    mainAddress(id) {\r\n      this.$store.commit('profileModule/chooseMainAddress', id)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./AddressView.vue?vue&type=template&id=2c744b56\"\nimport script from \"./AddressView.vue?vue&type=script&lang=js\"\nexport * from \"./AddressView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\full_stack_template\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_renderSlot","_ctx","_createElementVNode","type","onClick","$props","_createVNode","_component_font_awesome_icon","icon","_toDisplayString","name","props","position","Number","default","buttonName","String","emits","__exports__","render","id","$setup","length","$data","_createBlock","_component_base_validation_card_vue","key","cardFooter","$options","street_address","$event","placeholder","autocomplete","city","zip_code","country","_Fragment","_renderList","address","index","_component_base_card","_component_b_card_body","_component_b_checkbox","checked","is_main","onChange","_hoisted_12","_hoisted_4","src","require","alt","components","BaseValidationCardVue","setup","store","useAuthentication","addresses","user","title","data","addNew","newAddress","createMode","methods","async","this","$api","profile","createAddress","then","response","$store","dispatch","catch","error","console","log","removeAddress","retrieveAddressToUpdate","getters","_","Object","keys","mainAddress","commit"],"sourceRoot":""}