{"version":3,"file":"static/js/6733.4921169c.js","mappings":"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","sources":["webpack://vue_templates/./src/composables/authentication.js","webpack://vue_templates/./src/views/site/auth/AuthNavigation.vue","webpack://vue_templates/./src/views/site/auth/AuthNavigation.vue?79e6","webpack://vue_templates/./src/views/site/auth/LoginView.vue","webpack://vue_templates/./src/views/site/auth/LoginView.vue?cf38"],"sourcesContent":["import { ref } from 'vue'\r\nimport { client } from '@/plugins/axios'\r\n\r\n/** Adds authentication functionnalities to */\r\nexport default function useAuthenticationComposable () {\r\n  const authenticationErrors = ref([])\r\n  const loginCredentials = ref({\r\n    email: null,\r\n    password: null\r\n  })\r\n  \r\n  const signupCredentials = ref({\r\n    username: null,\r\n    firstname: null,\r\n    lastname: null,\r\n    email: null,\r\n    password1: null,\r\n    password2: null\r\n  })\r\n\r\n  const forgotPasswordCredentials = ref({\r\n    email: null\r\n  })\r\n\r\n  const verificationCredentials = ref({\r\n    verification_code: null\r\n  })\r\n\r\n  function passwordsValid () {\r\n    return signupCredentials.value.password1 === signupCredentials.value.password2\r\n  }\r\n\r\n  async function performLogin (success, fail) {\r\n    try {\r\n      const response = await client.post('accounts/login', loginCredentials.value)\r\n      try {\r\n        success(response)\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    } catch (error) {\r\n      if (typeof fail === 'function') {\r\n        fail([error.message, error.response.data])\r\n      } else {\r\n        console.error(error)\r\n      }\r\n    }\r\n  }\r\n  \r\n  async function performSignup (success, fail) {\r\n    try {\r\n      const response = await client.post('accounts/signup', signupCredentials.value)\r\n      try {\r\n        success(response)\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    } catch (error) {\r\n      fail([error.message, error.response.data])\r\n    }\r\n  }\r\n\r\n  async function performLogout (success, fail) {\r\n    try {\r\n      await client.post('accounts/logout')\r\n      try {\r\n        success()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    } catch (error) {\r\n      fail([error.message, error.response.data])\r\n    }\r\n  }\r\n\r\n  async function performAccountVerification (success, fail) {\r\n    try {\r\n      await client.post('accounts/verify-account', verificationCredentials.value)\r\n      try {\r\n        success()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    } catch (error) {\r\n      fail([error.message, error.response.data])\r\n    }\r\n  }\r\n\r\n  return {\r\n    verificationCredentials,\r\n    authenticationErrors,\r\n    loginCredentials,\r\n    signupCredentials,\r\n    forgotPasswordCredentials,\r\n    performLogin,\r\n    performSignup,\r\n    performLogout,\r\n    performAccountVerification,\r\n    passwordsValid\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-12 my-2\">\r\n      <p v-if=\"$route.name==='login_view'\" class=\"my-1\">Don't have an account? <router-link :to=\"{ name: 'signup_view' }\">Create one</router-link></p>\r\n      <p v-if=\"$route.name==='signup_view'\" class=\"my-1\">Already have an account? <router-link :to=\"{ name: 'login_view' }\">Signin</router-link></p>\r\n      <p v-if=\"$route.name==='login_view'\" class=\"my-1\">Forgot your password? <router-link :to=\"{ name: 'forgot_passoword_view' }\">Reset password</router-link></p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ForgotPassword'\r\n}\r\n</script>\r\n","import { render } from \"./AuthNavigation.vue?vue&type=template&id=6d1c1fb1\"\nimport script from \"./AuthNavigation.vue?vue&type=script&lang=js\"\nexport * from \"./AuthNavigation.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\full_stack_template\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"card-body\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <form @submit.prevent>\r\n          <input v-model=\"loginCredentials.email\" type=\"email\" autocomplete=\"email\" class=\"form-control p-2 my-2\">\r\n          <input v-model=\"loginCredentials.password\" type=\"password\" autocomplete=\"current-password\" class=\"form-control p-2 my-2\">\r\n\r\n          <!-- Recaptcha -->\r\n          <!-- <vue-recaptcha :sitekey=\"'1234'\" :load-recaptcha-script=\"false\" @verify=\"handleSuccess\" @error=\"handleError\" /> -->\r\n        </form>\r\n      </div>\r\n\r\n      <div class=\"col-12\">\r\n        <auth-navigation-vue />\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"card-footer\">\r\n    <button type=\"button\" class=\"btn btn-primary\" @click=\"completeLogin\">\r\n      Login\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { VueRecaptcha } from 'vue-recaptcha'\r\n\r\nimport useAuthenticationComposable from '@/composables/authentication'\r\n\r\nimport AuthNavigationVue from './AuthNavigation.vue'\r\nimport { useAuthentication } from '@/store/authentication'\r\n\r\nexport default {\r\n  name: 'LoginView',\r\n  components: {\r\n    AuthNavigationVue,\r\n    // VueRecaptcha\r\n  },\r\n  emits: {\r\n      submitted: () => true\r\n  },\r\n  setup() {\r\n    const store = useAuthentication()\r\n    const { loginCredentials, performLogin } = useAuthenticationComposable()\r\n\r\n    // function handleSuccess () {}\r\n    // function handleError (response) {\r\n    //   response\r\n    // }\r\n    return {\r\n      store,\r\n      loginCredentials,\r\n      // authenticationErrors,\r\n      // handleSuccess,\r\n      // handleError,\r\n      performLogin\r\n    }\r\n  },\r\n  methods: {\r\n    completeLogin () {\r\n      this.performLogin((response) => {\r\n        this.store.loginUser(response.data)\r\n        this.$session.create('auth', response.data)\r\n        this.$router.push({ name: 'home_view' })\r\n      }, (error) => {\r\n        console.error(error)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=13ceb0ba\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\full_stack_template\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["useAuthenticationComposable","authenticationErrors","ref","loginCredentials","email","password","signupCredentials","username","firstname","lastname","password1","password2","forgotPasswordCredentials","verificationCredentials","verification_code","passwordsValid","value","async","performLogin","success","fail","response","client","error","console","message","data","performSignup","performLogout","performAccountVerification","class","_createElementBlock","_createElementVNode","_ctx","name","_createVNode","_component_router_link","to","__exports__","render","onSubmit","$setup","$event","type","autocomplete","_component_auth_navigation_vue","onClick","$options","components","AuthNavigationVue","emits","submitted","setup","store","useAuthentication","methods","completeLogin","this","loginUser","$session","create","$router","push"],"sourceRoot":""}