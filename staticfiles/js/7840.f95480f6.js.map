{"version":3,"file":"static/js/7840.f95480f6.js","mappings":"kLAIe,SAASA,IACtB,MAAMC,GAAuBC,EAAAA,EAAAA,IAAI,IAC3BC,GAAmBD,EAAAA,EAAAA,IAAI,CAC3BE,MAAO,KACPC,SAAU,OAGNC,GAAoBJ,EAAAA,EAAAA,IAAI,CAC5BK,SAAU,KACVC,UAAW,KACXC,SAAU,KACVL,MAAO,KACPM,UAAW,KACXC,UAAW,OAGPC,GAA4BV,EAAAA,EAAAA,IAAI,CACpCE,MAAO,OAGHS,GAA0BX,EAAAA,EAAAA,IAAI,CAClCY,kBAAmB,OAGrB,SAASC,IACP,OAAOT,EAAkBU,MAAMN,YAAcJ,EAAkBU,MAAML,UAGvEM,eAAeC,EAAcC,EAASC,GACpC,IACE,MAAMC,QAAiBC,EAAAA,EAAAA,KAAY,iBAAkBnB,EAAiBa,OACtE,IACEG,EAAQE,GACR,MAAOE,GACPC,QAAQD,MAAMA,IAEhB,MAAOA,GACa,oBAATH,EACTA,EAAK,CAACG,EAAME,QAASF,EAAMF,SAASK,OAEpCF,QAAQD,MAAMA,IAKpBN,eAAeU,EAAeR,EAASC,GACrC,IACE,MAAMC,QAAiBC,EAAAA,EAAAA,KAAY,kBAAmBhB,EAAkBU,OACxE,IACEG,EAAQE,GACR,MAAOE,GACPC,QAAQD,MAAMA,IAEhB,MAAOA,GACPH,EAAK,CAACG,EAAME,QAASF,EAAMF,SAASK,QAIxCT,eAAeW,EAAeT,EAASC,GACrC,UACQE,EAAAA,EAAAA,KAAY,mBAClB,IACEH,IACA,MAAOI,GACPC,QAAQD,MAAMA,IAEhB,MAAOA,GACPH,EAAK,CAACG,EAAME,QAASF,EAAMF,SAASK,QAIxCT,eAAeY,EAA4BV,EAASC,GAClD,UACQE,EAAAA,EAAAA,KAAY,0BAA2BT,EAAwBG,OACrE,IACEG,IACA,MAAOI,GACPC,QAAQD,MAAMA,IAEhB,MAAOA,GACPH,EAAK,CAACG,EAAME,QAASF,EAAMF,SAASK,QAIxC,MAAO,CACLb,0BACAZ,uBACAE,mBACAG,oBACAM,4BACAM,eACAS,gBACAC,gBACAC,6BACAd,oB,mGCjGGe,MAAM,a,GACJA,MAAM,U,GAEFA,MAAM,Y,GACJA,MAAM,sB,GACJA,MAAM,O,GAShBA,MAAM,e,8DAdXC,EAAAA,EAAAA,GAYM,MAZN,EAYM,EAXJA,EAAAA,EAAAA,GAUM,MAVN,EAUM,EATJA,EAAAA,EAAAA,GAQO,QARAC,SAAM,sBAAP,QAAe,eAArB,EACED,EAAAA,EAAAA,GAMM,MANN,EAMM,EALJA,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHJA,EAAAA,EAAAA,GAEM,MAFN,EAEM,WADJA,EAAAA,EAAAA,GAAsJ,S,qCAAtIE,EAAAA,wBAAwBnB,kBAAiBoB,GAAEJ,MAAM,wCAAwCK,aAAa,MAAMC,KAAK,OAAOC,UAAU,KAAlJ,iBAAgBJ,EAAAA,wBAAwBnB,4BAJhD,SAYJiB,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHJA,EAAAA,EAAAA,GAES,UAFDK,KAAK,SAASN,MAAM,kBAAmBQ,QAAK,oBAAEC,EAAAA,QAAAA,EAAAA,UAAAA,KAAQ,uBADhE,I,cAUF,GACEC,KAAM,oBACNC,QACE,MAAM,2BAAEZ,EAAF,wBAA8BhB,IAA2Bb,EAAAA,EAAAA,KAC/D,MAAO,CACLa,0BACAgB,+BAGJa,QAAS,CACPzB,eACE0B,KAAKd,4BAA2B,KAC9Bc,KAAKC,QAAQC,KAAK,CAAEL,KAAM,kBACxBjB,IACFC,QAAQD,MAAMA,S,QChCtB,MAAMuB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://vue_templates/./src/composables/authentication.js","webpack://vue_templates/./src/views/site/auth/VerifyAccountView.vue","webpack://vue_templates/./src/views/site/auth/VerifyAccountView.vue?a89a"],"sourcesContent":["import { ref } from 'vue'\r\nimport { client } from '@/plugins/axios'\r\n\r\n/** Adds authentication functionnalities to */\r\nexport default function useAuthenticationComposable () {\r\n  const authenticationErrors = ref([])\r\n  const loginCredentials = ref({\r\n    email: null,\r\n    password: null\r\n  })\r\n  \r\n  const signupCredentials = ref({\r\n    username: null,\r\n    firstname: null,\r\n    lastname: null,\r\n    email: null,\r\n    password1: null,\r\n    password2: null\r\n  })\r\n\r\n  const forgotPasswordCredentials = ref({\r\n    email: null\r\n  })\r\n\r\n  const verificationCredentials = ref({\r\n    verification_code: null\r\n  })\r\n\r\n  function passwordsValid () {\r\n    return signupCredentials.value.password1 === signupCredentials.value.password2\r\n  }\r\n\r\n  async function performLogin (success, fail) {\r\n    try {\r\n      const response = await client.post('accounts/login', loginCredentials.value)\r\n      try {\r\n        success(response)\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    } catch (error) {\r\n      if (typeof fail === 'function') {\r\n        fail([error.message, error.response.data])\r\n      } else {\r\n        console.error(error)\r\n      }\r\n    }\r\n  }\r\n  \r\n  async function performSignup (success, fail) {\r\n    try {\r\n      const response = await client.post('accounts/signup', signupCredentials.value)\r\n      try {\r\n        success(response)\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    } catch (error) {\r\n      fail([error.message, error.response.data])\r\n    }\r\n  }\r\n\r\n  async function performLogout (success, fail) {\r\n    try {\r\n      await client.post('accounts/logout')\r\n      try {\r\n        success()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    } catch (error) {\r\n      fail([error.message, error.response.data])\r\n    }\r\n  }\r\n\r\n  async function performAccountVerification (success, fail) {\r\n    try {\r\n      await client.post('accounts/verify-account', verificationCredentials.value)\r\n      try {\r\n        success()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    } catch (error) {\r\n      fail([error.message, error.response.data])\r\n    }\r\n  }\r\n\r\n  return {\r\n    verificationCredentials,\r\n    authenticationErrors,\r\n    loginCredentials,\r\n    signupCredentials,\r\n    forgotPasswordCredentials,\r\n    performLogin,\r\n    performSignup,\r\n    performLogout,\r\n    performAccountVerification,\r\n    passwordsValid\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"card-body\">\r\n    <div class=\"col-12\">\r\n      <form @submit.prevent>\r\n        <div class=\"row my-4\">\r\n          <div class=\"col-12 text-center\">\r\n            <div class=\"box\">\r\n              <input v-model=\"verificationCredentials.verification_code\" class=\"entry form-control border text-center\" autocomplete=\"off\" type=\"text\" maxlength=\"4\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"card-footer\">\r\n    <button type=\"button\" class=\"btn btn-primary\" @click=\"verify\">\r\n      Verify account\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport useAuthenticationComposable from '@/composables/authentication'\r\n\r\nexport default {\r\n  name: 'VerifyAccountView',\r\n  setup () {\r\n    const { performAccountVerification, verificationCredentials} = useAuthenticationComposable()\r\n    return {\r\n      verificationCredentials,\r\n      performAccountVerification\r\n    }\r\n  },\r\n  methods: {\r\n    async verify () {\r\n      this.performAccountVerification(() => {\r\n        this.$router.push({ name: 'login_view' })\r\n      }, (error) => {\r\n        console.error(error)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.box {\r\n  display: inline-block;\r\n  position: relative;\r\n  width: 396px;\r\n  height: 150px;\r\n}\r\n\r\n.box .entry {\r\n  position: absolute;\r\n  /* padding-left: 21px; */\r\n  font-size: 47px;\r\n  height: 100%;\r\n  letter-spacing: 47px;\r\n  background-color: transparent;\r\n  border: 0;\r\n  outline: none;\r\n}\r\n</style>\r\n","import { render } from \"./VerifyAccountView.vue?vue&type=template&id=cb6b21c4&scoped=true\"\nimport script from \"./VerifyAccountView.vue?vue&type=script&lang=js\"\nexport * from \"./VerifyAccountView.vue?vue&type=script&lang=js\"\n\nimport \"./VerifyAccountView.vue?vue&type=style&index=0&id=cb6b21c4&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\full_stack_template\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cb6b21c4\"]])\n\nexport default __exports__"],"names":["useAuthenticationComposable","authenticationErrors","ref","loginCredentials","email","password","signupCredentials","username","firstname","lastname","password1","password2","forgotPasswordCredentials","verificationCredentials","verification_code","passwordsValid","value","async","performLogin","success","fail","response","client","error","console","message","data","performSignup","performLogout","performAccountVerification","class","_createElementVNode","onSubmit","$setup","$event","autocomplete","type","maxlength","onClick","$options","name","setup","methods","this","$router","push","__exports__","render"],"sourceRoot":""}